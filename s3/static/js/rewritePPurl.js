function doALink(e){var r=$("a");$.each(r,function(t,a){r[t].setAttribute("href",addParameter(a.href,"pp",e,!1))})}function addParameter(e,r,t,a){if(replaceDuplicates=!0,e.indexOf("#")>0){var n=e.indexOf("#");urlhash=e.substring(e.indexOf("#"),e.length)}else urlhash="",n=e.length;sourceUrl=e.substring(0,n);var i=sourceUrl.split("?"),l="";if(i.length>1)for(var s=i[1].split("&"),u=0;u<s.length;u++){var h=s[u].split("=");replaceDuplicates&&h[0]==r||(""==l?l="?":l+="&",l+=h[0]+"="+(h[1]?h[1]:""))}return""==l&&(l="?"),a?l="?"+r+"="+t+(l.length>1?"&"+l.substring(1):""):(""!==l&&"?"!=l&&(l+="&"),l+=r+"="+(t?t:"")),i[0]+l+urlhash}